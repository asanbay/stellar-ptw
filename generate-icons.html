<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate PWA Icons</title>
</head>
<body>
    <h2>Generating PWA Icons...</h2>
    <div id="status"></div>
    
    <script>
        async function generateIcons() {
            const sizes = [192, 512];
            const statusDiv = document.getElementById('status');
            
            for (const size of sizes) {
                try {
                    // Create canvas
                    const canvas = document.createElement('canvas');
                    canvas.width = size;
                    canvas.height = size;
                    const ctx = canvas.getContext('2d');
                    
                    // Create gradient
                    const gradient = ctx.createLinearGradient(0, 0, size, size);
                    gradient.addColorStop(0, '#3498db');
                    gradient.addColorStop(1, '#2980b9');
                    
                    // Draw background with rounded corners
                    const radius = size / 8;
                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.moveTo(radius, 0);
                    ctx.lineTo(size - radius, 0);
                    ctx.quadraticCurveTo(size, 0, size, radius);
                    ctx.lineTo(size, size - radius);
                    ctx.quadraticCurveTo(size, size, size - radius, size);
                    ctx.lineTo(radius, size);
                    ctx.quadraticCurveTo(0, size, 0, size - radius);
                    ctx.lineTo(0, radius);
                    ctx.quadraticCurveTo(0, 0, radius, 0);
                    ctx.closePath();
                    ctx.fill();
                    
                    // Draw text "PTW"
                    ctx.fillStyle = 'white';
                    ctx.font = `bold ${size * 0.35}px Arial, sans-serif`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText('PTW', size / 2, size * 0.45);
                    
                    // Draw "Stellar" text for 512 icon
                    if (size === 512) {
                        ctx.font = `${size * 0.09}px Arial, sans-serif`;
                        ctx.fillStyle = '#ecf0f1';
                        ctx.fillText('Stellar', size / 2, size * 0.65);
                    }
                    
                    // Draw dot
                    ctx.fillStyle = '#f39c12';
                    ctx.beginPath();
                    ctx.arc(size / 2, size * 0.74, size * 0.03, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Convert to blob and download
                    canvas.toBlob((blob) => {
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = `icon-${size}.png`;
                        a.click();
                        URL.revokeObjectURL(url);
                        statusDiv.innerHTML += `<p>✓ Generated icon-${size}.png</p>`;
                    }, 'image/png');
                    
                } catch (error) {
                    statusDiv.innerHTML += `<p>✗ Error generating ${size}px icon: ${error.message}</p>`;
                }
            }
            
            statusDiv.innerHTML += '<p><strong>Done! Save the downloaded files to /public/ folder</strong></p>';
        }
        
        generateIcons();
    </script>
</body>
</html>
